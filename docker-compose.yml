version: '3.8'

services:
  mockingbird:
    build: .
    ports:
      - "8769:8769"  # Proxy port
      - "9090:9090"  # Admin API port
    volumes:
      # Mount config directory
      - ./examples:/app/config:ro
      # Or use a local config directory:
      # - ~/.config/mockingbird:/app/config
    environment:
      - MOCKINGBIRD_PROXY_PORT=8769
      - MOCKINGBIRD_ADMIN_PORT=9090
      - MOCKINGBIRD_CONFIG_DIR=/app/config
    restart: unless-stopped
    container_name: mockingbird

  # Example: A service that uses Mockingbird
  # my-app:
  #   image: my-app:latest
  #   environment:
  #     - SERVICEX_BASE_URL=http://mockingbird:8769/servicex
  #     - OPENAI_BASE_URL=http://mockingbird:8769/openai
  #   depends_on:
  #     - mockingbird
